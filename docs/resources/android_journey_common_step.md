---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "endpointmonitor_android_journey_common_step Resource - endpointmonitor"
subcategory: ""
description: |-
  Defines a shared complete step of an Android Journey, starting with the checks to perform on what is currently displayed, followed by the actions to take.
---

# endpointmonitor_android_journey_common_step (Resource)

Defines a shared complete step of an Android Journey, starting with the checks to perform on what is currently displayed, followed by the actions to take.

## Example Usage

```terraform
# Example of a common shared step of an Android Journey check.
# These can be used to reduce duplication of configuration and also 
# easier maintenance of common actions needed across multiple checks.

resource "endpointmonitor_android_journey_common_step" "example" {
  name        = "Login to Internal App"
  description = "Log test user into internal company app."
  wait_time   = 5000

  step_check {
    description = "Check not already logged in."
    type        = "CHECK_FOR_TEXT"

    check_for_text {
      text_to_find = "Logout"
      state        = "ABSENT"
    }
  }

  step_interaction {
    sequence        = 1
    description     = "Enter username"
    always_required = true
    type            = "INPUT_TEXT"

    text_input {
      component_id = "login_username"
      input_text   = "my.user@mycompany.com"
    }
  }

  step_interaction {
    sequence        = 2
    description     = "Enter password"
    always_required = true
    type            = "INPUT_PASSWORD"

    password_input {
      component_id   = "login_password"
      input_password = var.login_password
    }
  }

  step_interaction {
    sequence        = 3
    description     = "Select Country"
    always_required = true
    type            = "SELECT_SPINNER_OPTION"

    select_spinner_option {
      component_id     = "login_country"
      option_list_text = "Scotland"
    }
  }

  step_interaction {
    sequence        = 4
    description     = "Click Login"
    always_required = true
    type            = "CLICK"

    click {
      search_text  = "Login"
      element_type = "button"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) A name to describe what the step is doing. This will be included in any alerts and notifications.

### Optional

- `description` (String) Optional longer description space to provide any supporting information about this step if needed.
- `step_check` (Block List) Defines the checks performed as part of an Android Journey Step to validate the currently displayed content of an app. (see [below for nested schema](#nestedblock--step_check))
- `step_interaction` (Block List) Defines an interaction to make ar part of an Android Journey check. (see [below for nested schema](#nestedblock--step_interaction))
- `wait_time` (Number) The number of milliseconds to wait for any loading / actions on the page to complete before any checks on this step are started.

### Read-Only

- `id` (Number) The ID of this resource.

<a id="nestedblock--step_check"></a>
### Nested Schema for `step_check`

Required:

- `description` (String) A description to describe what the step_check is checking.
- `type` (String) The type of check to complete. CHECK_FOR_TEXT - Checks for specific text being shown. CHECK_FOR_ELEMENT - Checks for a specific app component being shown.

Optional:

- `check_for_element` (Block, Optional) Defines the attributes needed for performing a Check for Element check as part of an Android Journey check. (see [below for nested schema](#nestedblock--step_check--check_for_element))
- `check_for_text` (Block, Optional) Defines the attributes needed for performing a Check for Text check as part of an Android Journey check. (see [below for nested schema](#nestedblock--step_check--check_for_text))
- `warning_only` (Boolean) If true then if this check fails, then it will only produce a warning, not a full check failure. Default is false.

Read-Only:

- `id` (Number)

<a id="nestedblock--step_check--check_for_element"></a>
### Nested Schema for `step_check.check_for_element`

Optional:

- `attribute_name` (String) Optional check for testing if the found element has an attribute named by this value.
- `attribute_value` (String) Optional check for testing if the found attributeName attribute has the value defined here.
- `component_id` (String) The component id of the element to look for (this does not need the android package prefix). Either this or xpath are required.
- `component_type` (String) The component type to filter any matching elements for the xpath or component id by.
- `state` (String) Must be either PRESENT or ABSENT. PRESENT means if the element is not found, the check will fail. ABSENT means the element is found, the check will fail.
- `xpath` (String) The xpath to use to search for the target element. Either this or componentId are required.

Read-Only:

- `id` (Number)


<a id="nestedblock--step_check--check_for_text"></a>
### Nested Schema for `step_check.check_for_text`

Optional:

- `state` (String) Must be PRESENT or ABSENT. Defines if the textToFind should be found or not found ot the displayed Android window. PRESENT means the check will fail if the textToFind is not found. ABSENT means the check will fail of the textToFind is found.
- `text_to_find` (String) The text to search for on the currently displayed Android window.

Read-Only:

- `id` (Number)



<a id="nestedblock--step_interaction"></a>
### Nested Schema for `step_interaction`

Required:

- `description` (String) A description to describe the action being taken. This is used as parts of alerts and reporting.
- `sequence` (Number) The order in which to run each interaction, working in lowest number to highest.
- `type` (String) The type of action to perform. Options are: CLICK, INPUT_TEXT, INPUT_PASSWORD, SAVE_SCREEN_SOURCE, ROTATE_DISPLAY, SCROLL_TO_ELEMENT, SELECT_SPINNER_OPTION, SWIPE, SCREENSHOT or WAIT.

Optional:

- `always_required` (Boolean) If set to false, the action is deemed optional, so the check will attempt to perform it, but if it fails, the check will continue as normal.
- `click` (Block, Optional) The attributes required as part of performing a CLICK interaction during an Android Journey check. Only one attribute needs to be provided. (see [below for nested schema](#nestedblock--step_interaction--click))
- `password_input` (Block, Optional) The attributes required as part of performing a INPUT_PASSWORD interaction during an Android Journey check. (see [below for nested schema](#nestedblock--step_interaction--password_input))
- `rotate_display` (Block, Optional) The attributes required as part of performing a ROTATE_DISPLAY interaction during an Android Journey check. (see [below for nested schema](#nestedblock--step_interaction--rotate_display))
- `select_spinner_option` (Block, Optional) The attributes required as part of performing a SELECT_SPINNER_OPTION interaction during an Android Journey check. Only one attribute needs to be provided. (see [below for nested schema](#nestedblock--step_interaction--select_spinner_option))
- `swipe` (Block, Optional) The attributes required as part of performing a SWIPE interaction during an Android Journey check. (see [below for nested schema](#nestedblock--step_interaction--swipe))
- `text_input` (Block, Optional) The attributes required as part of performing a INPUT_TEXT interaction during an Android Journey check. (see [below for nested schema](#nestedblock--step_interaction--text_input))
- `wait_time` (Number) The number of milliseconds to wait for the WAIT interaction type.

Read-Only:

- `id` (Number)

<a id="nestedblock--step_interaction--click"></a>
### Nested Schema for `step_interaction.click`

Optional:

- `component_id` (String) The id of the component to click on. The id does not need to include the Android package name prefix.
- `search_text` (String) The text to search for and click on within the currently displayed app screen.
- `xpath` (String) Xpath defining the component to click on.


<a id="nestedblock--step_interaction--password_input"></a>
### Nested Schema for `step_interaction.password_input`

Optional:

- `component_id` (String) The id of the component to input the password into. This does not need to include the Android package name prefix.
- `input_password` (String) The password to input. This will not be stored in your Terraform state and ideally should be passed in to your Terraform as a environment variable rather than statically stored in your Terraform code.
- `xpath` (String) The xpath of the component to input the password into. Either this or elementId should be given, but not both.


<a id="nestedblock--step_interaction--rotate_display"></a>
### Nested Schema for `step_interaction.rotate_display`

Optional:

- `orientation` (String) The orientation to rotate the screeen to, either PORTRAIT or LANDSCAPE.


<a id="nestedblock--step_interaction--select_spinner_option"></a>
### Nested Schema for `step_interaction.select_spinner_option`

Optional:

- `component_id` (String) The id of the spinner object to make the selection in. The id does not need to include the Android package name prefix.
- `option_list_position` (Number) The position from the list of options within the spinner to select, starting from 0.
- `option_list_text` (String) The value from the list of options within the spinner to select.
- `search_text` (String) The text of the current selected spinner object value to search for to identify the spinner to interact with.
- `xpath` (String) Xpath defining the spinner object to make the selection in.


<a id="nestedblock--step_interaction--swipe"></a>
### Nested Schema for `step_interaction.swipe`

Optional:

- `component_id` (String) The id of the component start the swipe action within. This does not need to include the Android package name prefix.
- `start_swipe_coordinates` (String) The x,y position in pixels on the screen to star the swipe from if component_id or xpath not used.
- `swipe_direction` (String) The direction to swipe across the screen. Must be one of LEFT, RIGHT, UP or DOWN.
- `swipe_length` (Number) The distance across the screen to swipe in pixels.
- `xpath` (String) The xpath of the component to start the wipe action within. Either this or elementId should be given, but not both.


<a id="nestedblock--step_interaction--text_input"></a>
### Nested Schema for `step_interaction.text_input`

Optional:

- `component_id` (String) The id of the component to input the text into. This does not need to include the Android package name prefix.
- `input_text` (String) The text to input into the element defined by either component_id or xpath.
- `xpath` (String) The xpath of the component to input the text into. Either this or elementId should be given, but not both.

## Import

Import is supported using the following syntax:

```shell
# Android Journey checks can be imported using their numeric id, which can be see in the address bar when editing a check in the web interface.
terraform import endpointmonitor_android_journey_common_step.example 123
```
