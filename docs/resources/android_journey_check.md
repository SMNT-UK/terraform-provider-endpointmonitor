---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "endpointmonitor_android_journey_check Resource - endpointmonitor"
subcategory: ""
description: |-
  A check that can navigate a given Android App and check interactions function successfully and element are displayed as expected.
---

# endpointmonitor_android_journey_check (Resource)

A check that can navigate a given Android App and check interactions function successfully and element are displayed as expected.

## Example Usage

```terraform
# Example Android Journey Check that uses the endpointmonitor_check_host 
# and endpointmonitor_check_group data sources to get the id of the 
# group it sits in and the host it is to run on.
# Additionally uses the endpointmonitor_android_journey_common_step 
# data source to apply a common journey step.

data "endpointmonitor_check_host_group" "agent_group" {
  search = "android"
}

data "endpointmonitor_check_group" "apps" {
  search = "Internal Apps"
}

data "endpointmonitor_android_journey_common_step" "initial" {
  search = "Accept T&Cs and Privacy Agreement"
}

resource "endpointmonitor_android_journey_check" "example" {
  name            = "Company Internal App"
  description     = "Checks company internal app is working."
  enabled         = true
  check_frequency = 120
  trigger_count   = 2

  apk = filebase64("${path.module}/company_app.apk")

  common_step {
    sequence       = 1
    name           = "Initial App Load"
    common_step_id = data.endpointmonitor_android_journey_common_step.initial.id
  }

  custom_step {
    sequence               = 2
    name                   = "Login"
    wait_time              = 5000

    step_check {
      description = "Check not already logged in."
      type        = "CHECK_FOR_TEXT"

      check_for_text {
        text_to_find = "Logout"
        state        = "ABSENT"
      }
    }

    step_interaction {
      sequence        = 1
      description     = "Enter username"
      always_required = true
      type            = "INPUT_TEXT"

      text_input {
        component_id = "login_username"
        input_text   = "my.user@mycompany.com"
      }
    }

    step_interaction {
      sequence        = 2
      description     = "Enter password"
      always_required = true
      type            = "INPUT_PASSWORD"

      password_input {
        component_id   = "login_password"
        input_password = var.login_password
      }
    }

    step_interaction {
      sequence        = 3
      description     = "Select Country"
      always_required = true
      type            = "SELECT_SPINNER_OPTION"

      select_spinner_option {
        component_id     = "login_country"
        option_list_text = "Scotland"
      }
    }

    step_interaction {
      sequence        = 4
      description     = "Click Login"
      always_required = true
      type            = "CLICK"

      click {
        search_text  = "Login"
        element_type = "button"
      }
    }
  }

  custom_step {
    sequence = 2
    name     = "Check Login Successful"

    step_check {
      description = "Check logout button showing."
      type        = "CHECK_FOR_TEXT"

      check_for_text {
        text_to_find = "Logout"
        state        = "PRESENT"
      }
    }

    step_check {
      description = "Check username is displayed"
      type        = "CHECK_FOR_TEXT"

      check_for_text {
        text_to_find = "my.user@mycompany.com"
        state        = "PRESENT"
      }
    }
  }

  host_group_id  = data.endpointmonitor_check_host_group.agent_group.id
  check_group_id = data.endpointmonitor_check_group.apps.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `apk` (String) The base64 encoded APK to perform the check against.
- `check_frequency` (Number) The frequency the check will be run in seconds.
- `check_group_id` (Number) The id of the Check Group the check belongs to. This also determines check frequency.
- `name` (String) A name to describe in the check, used throughout EndPoint Monitor to describe this check, including in notifications.
- `trigger_count` (Number) The sequential number of failures that need to occur for a check to trigger an alert or notification.

### Optional

- `check_host_group_id` (Number) The id of the Check Host Group to run the check on. This group must contain at least one Android Check Host to work.
- `check_host_id` (Number) The id of the Check Host to run the check on. This must be an Android Check Host to work.
- `common_step` (Block List) Adds a common shared step to a given Android Journey check. (see [below for nested schema](#nestedblock--common_step))
- `custom_step` (Block List) Defines a custom step of an android journey, starting with the checks to perform on what is currently displayed, followed by the actions to take. (see [below for nested schema](#nestedblock--custom_step))
- `description` (String) A space to provide a longer description of the check if needed. Will default to the name if not set.
- `enabled` (Boolean) Allows the enabling/disabling of the check from executing.
- `maintenance_override` (Boolean) If set true then notifications and alerts will be suppressed for the check.
- `override_main_activity` (String) The Main Activity (the method that launches the app) for the APK given. This is usually auto-discovered, but a value given here will override any auto-discovered value.
- `override_package_name` (String) The package name of the app to check. The package name is usually auto-discovered from the given APK to test, but a value provided here will override the discovered value.
- `proxy_host_id` (Number) The id of the Proxy Host the check should use for a HTTP proxy if needed.
- `result_retention` (Number) The number of days to store historic results of the check.
- `screen_orientation` (String) The starting orientation of the screen. This should be either PORTRAIT or LANDSCAPE.

### Read-Only

- `apk_checksum` (String) Calculated checksum of the last apk uploaded for the check. Used to indicate apk has changed as the API does not ever return the full APK in its resposnes to Terraform.
- `id` (Number) The ID of this resource.

<a id="nestedblock--common_step"></a>
### Nested Schema for `common_step`

Required:

- `sequence` (Number) These indicate the order in which the steps will executing during the check.

Optional:

- `common_step_id` (Number) The id of the common step to use.

Read-Only:

- `id` (Number)


<a id="nestedblock--custom_step"></a>
### Nested Schema for `custom_step`

Required:

- `name` (String) A name to describe what the step is doing. This will be included in any alerts and notifications.
- `sequence` (Number) These indicate the order in which the steps will executing during the check.

Optional:

- `step_check` (Block List) Defines the checks performed as part of an Android Journey Step to validate the currently displayed content of an app. (see [below for nested schema](#nestedblock--custom_step--step_check))
- `step_interaction` (Block List) Defines an interaction to make ar part of an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_interaction))
- `wait_time` (Number) The number of milliseconds to wait for any loading / actions on the page to complete before any checks on this step are started.

Read-Only:

- `id` (Number)

<a id="nestedblock--custom_step--step_check"></a>
### Nested Schema for `custom_step.step_check`

Required:

- `description` (String) A description to describe what the step_check is checking.
- `type` (String) The type of check to complete. CHECK_FOR_TEXT - Checks for specific text being shown. CHECK_FOR_ELEMENT - Checks for a specific app component being shown.

Optional:

- `check_for_element` (Block, Optional) Defines the attributes needed for performing a Check for Element check as part of an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_check--check_for_element))
- `check_for_text` (Block, Optional) Defines the attributes needed for performing a Check for Text check as part of an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_check--check_for_text))
- `warning_only` (Boolean) If true then if this check fails, then it will only produce a warning, not a full check failure. Default is false.

Read-Only:

- `id` (Number)

<a id="nestedblock--custom_step--step_check--check_for_element"></a>
### Nested Schema for `custom_step.step_check.check_for_element`

Optional:

- `attribute_name` (String) Optional check for testing if the found element has an attribute named by this value.
- `attribute_value` (String) Optional check for testing if the found attributeName attribute has the value defined here.
- `component_id` (String) The component id of the element to look for (this does not need the android package prefix). Either this or xpath are required.
- `component_type` (String) The component type to filter any matching elements for the xpath or component id by.
- `state` (String) Must be either PRESENT or ABSENT. PRESENT means if the element is not found, the check will fail. ABSENT means the element is found, the check will fail.
- `xpath` (String) The xpath to use to search for the target element. Either this or componentId are required.

Read-Only:

- `id` (Number)


<a id="nestedblock--custom_step--step_check--check_for_text"></a>
### Nested Schema for `custom_step.step_check.check_for_text`

Optional:

- `state` (String) Must be PRESENT or ABSENT. Defines if the textToFind should be found or not found ot the displayed Android window. PRESENT means the check will fail if the textToFind is not found. ABSENT means the check will fail of the textToFind is found.
- `text_to_find` (String) The text to search for on the currently displayed Android window.

Read-Only:

- `id` (Number)



<a id="nestedblock--custom_step--step_interaction"></a>
### Nested Schema for `custom_step.step_interaction`

Required:

- `description` (String) A description to describe the action being taken. This is used as parts of alerts and reporting.
- `sequence` (Number) The order in which to run each interaction, working in lowest number to highest.
- `type` (String) The type of action to perform. Options are: CLICK, INPUT_TEXT, INPUT_PASSWORD, SAVE_SCREEN_SOURCE, ROTATE_DISPLAY, SCROLL_TO_ELEMENT, SELECT_SPINNER_OPTION, SWIPE, SCREENSHOT or WAIT.

Optional:

- `always_required` (Boolean) If set to false, the action is deemed optional, so the check will attempt to perform it, but if it fails, the check will continue as normal.
- `click` (Block, Optional) The attributes required as part of performing a CLICK interaction during an Android Journey check. Only one attribute needs to be provided. (see [below for nested schema](#nestedblock--custom_step--step_interaction--click))
- `password_input` (Block, Optional) The attributes required as part of performing a INPUT_PASSWORD interaction during an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_interaction--password_input))
- `rotate_display` (Block, Optional) The attributes required as part of performing a ROTATE_DISPLAY interaction during an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_interaction--rotate_display))
- `select_spinner_option` (Block, Optional) The attributes required as part of performing a SELECT_SPINNER_OPTION interaction during an Android Journey check. Only one attribute needs to be provided. (see [below for nested schema](#nestedblock--custom_step--step_interaction--select_spinner_option))
- `swipe` (Block, Optional) The attributes required as part of performing a SWIPE interaction during an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_interaction--swipe))
- `text_input` (Block, Optional) The attributes required as part of performing a INPUT_TEXT interaction during an Android Journey check. (see [below for nested schema](#nestedblock--custom_step--step_interaction--text_input))
- `wait_time` (Number) The number of milliseconds to wait for the WAIT interaction type.

Read-Only:

- `id` (Number)

<a id="nestedblock--custom_step--step_interaction--click"></a>
### Nested Schema for `custom_step.step_interaction.click`

Optional:

- `component_id` (String) The id of the component to click on. The id does not need to include the Android package name prefix.
- `search_text` (String) The text to search for and click on within the currently displayed app screen.
- `xpath` (String) Xpath defining the component to click on.


<a id="nestedblock--custom_step--step_interaction--password_input"></a>
### Nested Schema for `custom_step.step_interaction.password_input`

Optional:

- `component_id` (String) The id of the component to input the password into. This does not need to include the Android package name prefix.
- `input_password` (String) The password to input. This will not be stored in your Terraform state and ideally should be passed in to your Terraform as a environment variable rather than statically stored in your Terraform code.
- `xpath` (String) The xpath of the component to input the password into. Either this or elementId should be given, but not both.


<a id="nestedblock--custom_step--step_interaction--rotate_display"></a>
### Nested Schema for `custom_step.step_interaction.rotate_display`

Optional:

- `orientation` (String) The orientation to rotate the screeen to, either PORTRAIT or LANDSCAPE.


<a id="nestedblock--custom_step--step_interaction--select_spinner_option"></a>
### Nested Schema for `custom_step.step_interaction.select_spinner_option`

Optional:

- `component_id` (String) The id of the spinner object to make the selection in. The id does not need to include the Android package name prefix.
- `option_list_position` (Number) The position from the list of options within the spinner to select, starting from 0.
- `option_list_text` (String) The value from the list of options within the spinner to select.
- `search_text` (String) The text of the current selected spinner object value to search for to identify the spinner to interact with.
- `xpath` (String) Xpath defining the spinner object to make the selection in.


<a id="nestedblock--custom_step--step_interaction--swipe"></a>
### Nested Schema for `custom_step.step_interaction.swipe`

Optional:

- `component_id` (String) The id of the component start the swipe action within. This does not need to include the Android package name prefix.
- `start_swipe_coordinates` (String) The x,y position in pixels on the screen to star the swipe from if component_id or xpath not used.
- `swipe_direction` (String) The direction to swipe across the screen. Must be one of LEFT, RIGHT, UP or DOWN.
- `swipe_length` (Number) The distance across the screen to swipe in pixels.
- `xpath` (String) The xpath of the component to start the wipe action within. Either this or elementId should be given, but not both.


<a id="nestedblock--custom_step--step_interaction--text_input"></a>
### Nested Schema for `custom_step.step_interaction.text_input`

Optional:

- `component_id` (String) The id of the component to input the text into. This does not need to include the Android package name prefix.
- `input_text` (String) The text to input into the element defined by either component_id or xpath.
- `xpath` (String) The xpath of the component to input the text into. Either this or elementId should be given, but not both.

## Import

Import is supported using the following syntax:

```shell
# Android Journey checks can be imported using their numeric id, which can be see in the address bar when editing a check in the web interface.
terraform import endpointmonitor_android_journey_check.example 123
```
